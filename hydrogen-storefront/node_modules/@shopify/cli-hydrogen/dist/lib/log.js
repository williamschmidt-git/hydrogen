let isFirstWorkerReload = true;
function muteDevLogs({ workerReload } = {}) {
  const log = console.log.bind(console);
  console.log = (first, ...rest) => {
    if (typeof first === "string" && first.includes("[mf:")) {
      if (workerReload !== false && first.includes("Worker reloaded")) {
        if (isFirstWorkerReload)
          isFirstWorkerReload = false;
        else
          return log(first.replace("[mf:inf] ", "\u{1F504} ") + "\n", ...rest);
      }
      if (!first.includes("[mf:err]")) {
        return;
      }
    }
    return log(first, ...rest);
  };
}

export { muteDevLogs };
